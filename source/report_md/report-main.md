# ОСНОВНАЯ ЧАСТЬ ОТЧЕТА {#sec:chapter1}

1.1 Задание 1. Поиск литературы на тему: «Анализ оптимизации процесса создания технической документации на основе подхода «Документация как Код», в электронных библиотеках

Во время прохождения практики рассмотрим оптимизацию процесса разработки технической документации.

Для проведения аналитического обзора мною был произведен поиск электронных ресурсов, найденных в сети «Интернет», которые отражены в списке использованных источников.

1.2 Задание 2. Анализ оптимизации процесса создания технической документации на основе подхода «Документация как Код»

**Описание подхода «Документация как Код»**

В жизненном цикле программного продукта документация играет очень важную роль: без нее пользователи (заказчики) испытывают трудности с использованием программного обеспечения (далее – ПО) или, в лучшем случае, не используют весь его потенциал.

Создание всеобъемлющей и легкодоступной документации позволяет избежать этого сценария. Если пользователи могут легко и интуитивно находить нужную им информацию и знать, что она будет полной и понятной, они получат качественную инструкцию и в полной мере воспользуются преимуществами ПО. Однако такая документация требует значительных затрат времени и ресурсов. Часто крупные компании нанимают специалистов, таких как технические писатели, которые полностью посвящают себя созданию и обновлению документации. С другой стороны, в малых/средних компаниях, которые не могут позволить себе такие инвестиции, написание документации является одной из задач команды разработчиков. В большинстве случаев разработчики предпочитают сосредоточиться на своей основной деятельности по разработке ПО, а не на написании и обновлении документации. Это также связано с тем, что инструменты, используемые для написания, сильно отличаются от тех, которые разработчики обычно используют в своей повседневной деятельности.

Для того чтобы удовлетворить потребности разработчиков, а также оптимизировать работу опытных технических писателей приходит на помощь подход «Документация как Код».

«Документация как Код» (с англ. Documentation as Code) – это концепция разработки документации, основная идея которой заключается в разработке технической документации посредством таких же методик и инструментов, как и в процессе разработки исходного кода программного обеспечения.

Концепция «Документация как Код» появилась не так давно глобальным сообществом людей, которым небезразлична документация. Основной и, пожалуй, единственный публичный информационный портал в виде веб-страницы является[@docs-as-code], который содержит основную информацию данного подхода и применяемых в работе инструментов. В отечественной ИТ-индустрии одним из наиболее известных примеров, кто применяет подход «Документация как Код» является компания Яндекс, которая также разработала свою открытую платформу для работы с документацией.

С применением подхода «Документация как Код» можно разрабатывать документы различного формата, например: от внутренних инструкций до документов, к которым предъявляются требования государственных заказчиков: формат docx и отечественные ГОСТы, в рамках организации АО «Институт навигации».

Как и в любом подходе, «Документация как Код» имеет свои плюсы и минусы. Некоторые из них носят ситуативный характер. К достоинствам можно отнести: повторное использование как программного обеспечения, так и человеческих ресурсов либо тесный контакт с разработчиками; оптимизация процесса документирования.

К существенным недостаткам подхода относится: повышение порога технических навыков для специалистов. Существует большое количество инструментов, которые требуют определенный порог вхождения.

При разработке технической документации с применением подхода «Документация как Код» используются следующие технологии:

1. Облегченный языка разметки (англ. lightweight markup language)

Документация пишется на языке разметки, одни из самых популярных языков – это Markdown, reSructuredText.

Markdown — более простой язык разметки, но и более ограниченный в плане форматов, в которые он может быть конвертирован без дополнительных преобразований.

reStructuredText — более мощный язык разметки, но и более капризный. В нём сложнее писать и проще допустить ошибку в синтаксисе.

Обычно облегченные языки разметки используются для записи команд машин, таких как файлы конфигурации. Но мы будем использовать данный функционал для разработки документации, что необходимо для базового форматирования текста.

2. Системы контроля версий в сочетании с удаленным хостом контроля версий, таким как GitHub или GitLab.

Еще один фундаментальный аспект подхода «Документация как Код» является управления версиями документации: важно отслеживать все изменения, зная, кем и когда они были сделаны. Некоторые из самых популярных и бесплатных систем контроля версий включают Git, Mercurial и Subversion.

Система Git более распространенная благодаря своей относительной простате и имеет открытый исходный код. Самые известные и используемые в мире платформы, а именно GitHub и GitLab, основаны на Git.

Еще одним большим преимуществом, предлагаемым этими инструментами, является возможность асинхронной работы нескольких человек над одним и тем же файлом. Благодаря ветвям любой может создать версию файлов на своем устройстве, внести изменения, а затем создать запрос на извлечение/слияние для внедрения изменений. Все это без прямого влияния на исходный файл или других людей, работающих над другими версиями того же файла. Платформы также предоставляют интерфейс для легкого сообщения о конфликтах и их разрешения (например, два разных, конкурирующих изменения в одном и том же разделе файла).

3. Шаблоны документов, выполненные в редакторах Microsoft Office Word, необходимы для окончательных версий, разработанных в соответствии с ГОСТ.

4. Система публикации (сборки) документации в нужный формат.

После того, как документация написана, версионирована и сохранена, она готова к публикации (сборки в нужный формат). Есть несколько способов опубликовать (собрать) файлы в формате простого текста, который уже имеет базовое форматирование:

   - создание статических веб-страниц с помощью генератора статических сайтов, таких как Sphinx и MkDocs, в зависимости от выбранного языка разметки;
   - сборка финального файла в форматы: docx, pdf и т.д.

5. Средства автоматизированного развертывания документации.

Дополнительным преимуществом подхода «Документация как Код» является возможность использовать автоматизацию, которая обычно реализуется для исходного кода: в частности, благодаря этому подходу можно внедрить типичные элементы методологии DevOps, такие как практики CI/CD (Continuous Integration, Continuous Delivery — непрерывная интеграция и доставка).

На приведенном рисунке [-@fig:picture_1] показан рабочий процесс создания документации, в котором используется подход «Документация как Код».

![Процесс создания документации с использованием «Документация как Код»](./source/img/scheme_1.jpg){#fig:picture_1}

Порядок действий при создании документации:

1. Создается локальная ветка для своих изменений документации.
2. Публикуется ветка в системе контроля версий.
3. Создается pull request (это заявка на слияние документа из разных веток).
4. После уведомления о поступившем pull request документация проверяется ответственными лицами и принимается решение одобрить или отклонить изменения.
5. После слияния документа автоматический конвейер выполняет различные проверки документации.
6. В случае, если pull request одобрен, содержимое можно объединять с основной веткой.
7. Далее, документация доставляется по различным источникам – это может быть формирование документа в различных форматах или обновление страниц, созданных при помощи генератора статических сайтов.

**Практическая часть**

В целях получения практических навыков, реализуем отчет с использованием инструментов, которые применяются в подходе «Документация как Код» и проанализируем эффективность данной концепции.

При формировании отчета мною были выбраны следующие инструменты:

1. Распределенная система контроля версий `Git` с использованием многофункциональной платформы `GitHub` в роли удаленного репозитория.
2. Редактор кода `Visual Studio Code` - для создания струтуры проекта и работы с файлами, как показано на рисунке [-@fig:picture_2].
![Структура проекта](./source/img/project-structure.jpg){#fig:picture_2}
3. Язык разметки `Markdown` - для написание отчета.
4. `Pandoc` и плагин к нему `pandoc-crossref` - это универсальная утилита для работы с текстовыми форматами, например преобразует `.docx` в `markdown` и наоборот.
5. GOSTdown [@gostdown]- набор шаблонов и скриптов для автоматической вёрстки отчета в форматы `.docx` и `.pdf`.
6. `Mkdocs` - это бесплатный статический генератор сайтов, предназначенный для создания проектной документации. Пример созданного статического сайта представлен на рисунке [-@fig:picture_3].
![Созданный статический сайт](./source/img/static-website.jpg){#fig:picture_3}
7. `Python` - для использования mkdocs (который написан на Python) и вспомогательные скрипты.

Схематично изобразим порядок действий при разработке технической документации с использованием подхода «Документация как Код»:



<!-- Порядок действий при создании текстовой докуменатции:

- создаем структуру проекта (отчета), как показано на рисунке [-@fig:picture_2];
![Структура проекта](./source/img/project-structure.jpg){#fig:picture_2}
- вводную, основную и заключительную части текстового документа формата `Markdown` делим на три файла для удобства редактирования;
- в директорию где находится проект помещаем следующие файлы из набора шаблонов и скриптов GOSTdown:
  - `build-report.bat` - это командный файл, который запускает `build.ps1` с аргументами, а также содержит список `Markdown` файлов в том порядке, котором необходимо видеть в результирующем `.docx` файле;
  - `build.ps1` - основной скрипт PowerShell, запускающий утилиту `Pandoc` для преобразования и применяющий стили из шаблона `template-report.docx`;
  - `gost-r-7-0-5-2008-numeric-iaa.csl` - это файл стилей для списка источников;
  - `linebreaks.lua` - обязательный файл для разрывов в коде;
  - `sources_of_literature.bib` - это список источников в формате BibTex;
  - `template-report.docx` - файл-шаблон.Скрипт использует этот файл, чтобы к тексту применять стили.
- после того как отчет составлен в формате `Markdown` переводим его в формат `.docx`:
  - открываем командную строку и запускаем командный файл;
  - файлы под названием `report.docx` и `report.pdf` появятся в соответсвтущей папке.
  
При создании веб-документации используется следующий порядок действий:

- используем виртуальную среду. Виртуальная среда для Python позволит нам устанавливать все нужные пакеты в отдельную папку `.venv`:
    - создаем папку web-doc;
    - в создавшейся папке откроем команндрую строку и выполним следующую команду: `python -m venv .venv`. В папке будет создана директория `.venv` со средой исполнения Python;
    - чтобы выполнять команды в этой среде нужно её активировать. Выполним следующу команду: `.\.venv\Scripts\activate`.
- установим `Mkdocs`, выполнив команду в нашей виртуальной среде: `pip install mkdocs`;
- внутри директории проекта будет создан файл mkdocs.yml для настройки структуры сайта, отредактируем его следующим образом:
  
  ``` text

    site_name: Отчет по практической работе
      
    nav:
      - Документация как Код:
        - Описание подхода: '.\Description of the approach.md'
        - Практическая часть: '.\The practical part.md'
  
    markdown_extensions:
      - abbr
      - attr_list
      - md_in_html
      - admonition
      - footnotes
  
  ```

- также создается директория docs, где по умолчанию располагается файл index.md, его содержимое будет отображаться на главной странице сайта (отредактируем данный файл и добавим два раздела с основной части отчета);
- прописав команду: `mkdocs serve` - запускается сервер для отображения сайта, адрес поумолчанию `http://127.0.0.1:8000/`, как показано на рисунке [-@fig:picture_3];
![Созданный статический сайт](./img/static-website.jpg){#fig:picture_3}

- прописав команду: `mkdocs build` - создается директория site c содержимым статического сайта. -->
